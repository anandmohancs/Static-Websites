{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import { useEffect, useState, useRef, useCallback, useMemo } from 'react';\n\nimport './styles.scss';\n\ninterface TyperProps {\n  sentences: string[];\n  startDelay?: number;\n  cursorDelay?: number;\n  className?: string;\n  cursorClassName?: string;\n  cursorColor?: string;\n  cursorBlinkSpeed?: number;\n  showCursor?: boolean;\n  hideCursorOnFinish?: boolean;\n  cursorSmooth?: boolean;\n  typingSpeed?: number;\n  deletingSpeed?: number;\n  pauseTime?: number;\n  loop?: boolean;\n  style?: React.CSSProperties;\n  defaultText?: string;\n  onTypeFinish?: () => void;\n}\n\nconst Typer: React.FC<TyperProps> = ({\n  sentences,\n  startDelay = 0,\n  cursorDelay = startDelay,\n  className = '',\n  cursorClassName = '',\n  cursorColor = '',\n  cursorBlinkSpeed = 700,\n  showCursor = true,\n  hideCursorOnFinish = false,\n  cursorSmooth = false,\n  typingSpeed = 80,\n  deletingSpeed = 30,\n  pauseTime = 1000,\n  loop = true,\n  style = {},\n  defaultText = '',\n  onTypeFinish = () => {},\n}: TyperProps) => {\n  const [text, setText] = useState(defaultText);\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [loopNum, setLoopNum] = useState(0);\n  const [writingSpeed, setWritingSpeed] = useState(typingSpeed);\n  const mountedRef = useRef(false);\n\n  const refText = useRef(text);\n  const refIsDeleting = useRef(isDeleting);\n  const refLoopNum = useRef(loopNum);\n  const refWritingSpeed = useRef(writingSpeed);\n\n  const refTimer = useRef(0);\n  const timer1 = useRef(0);\n  const timer2 = useRef(0);\n  const timer3 = useRef(0);\n  const refIsGoingToDelete = useRef(false);\n  const refIsFinished = useRef(false);\n\n  refText.current = text;\n  refIsDeleting.current = isDeleting;\n  refLoopNum.current = loopNum;\n  refWritingSpeed.current = writingSpeed;\n\n  useEffect(() => {\n    mountedRef.current = true;\n\n    return () => {\n      mountedRef.current = false;\n      clearTimeout(refTimer.current);\n      clearTimeout(timer1.current);\n      clearTimeout(timer2.current);\n      clearTimeout(timer3.current);\n    };\n  }, []);\n  const handleType = useCallback(() => {\n    const i = refLoopNum.current % sentences.length;\n    const fullText = sentences[i];\n\n    setText(\n      refIsDeleting.current\n        ? fullText.substring(0, refText.current.length - 1)\n        : fullText.substring(0, refText.current.length + 1)\n    );\n    if (!refIsDeleting.current && refText.current === fullText && !refIsGoingToDelete.current) {\n      refIsGoingToDelete.current = true;\n      timer1.current = window.setTimeout(() => {\n        setIsDeleting(true);\n        setWritingSpeed(deletingSpeed);\n        refIsGoingToDelete.current = false;\n      }, pauseTime);\n    } else if (refIsDeleting.current && refText.current === '') {\n      setIsDeleting(false);\n      setWritingSpeed(typingSpeed);\n      setLoopNum(refLoopNum.current + 1);\n    }\n\n    if (loop || i !== sentences.length - 1 || refText.current.length !== fullText.length) {\n      if (refIsGoingToDelete.current) {\n        timer2.current = window.setTimeout(() => {\n          refTimer.current = window.setTimeout(handleType, refWritingSpeed.current);\n        }, pauseTime);\n      } else {\n        refTimer.current = window.setTimeout(handleType, refWritingSpeed.current);\n      }\n    } else {\n      refIsFinished.current = true;\n      onTypeFinish();\n    }\n  }, [deletingSpeed, loop, pauseTime, typingSpeed, sentences, onTypeFinish]);\n\n  useEffect(() => {\n    timer3.current = window.setTimeout(() => {\n      if (!mountedRef.current) {\n        return;\n      }\n      handleType();\n    }, startDelay);\n  }, [handleType, startDelay]);\n\n  const styledSpan = useMemo(\n    () =>\n      ({\n        opacity: 0,\n        visibility: showCursor ? 'visible' : 'hidden',\n        color: cursorColor,\n        animation: `blink ${cursorBlinkSpeed}ms ${cursorSmooth ? '' : 'steps(1)'} infinite`,\n        animationDelay: `${cursorDelay}ms`,\n      } as React.CSSProperties),\n    [cursorBlinkSpeed, cursorColor, cursorDelay, cursorSmooth, showCursor]\n  );\n\n  return (\n    <span style={style}>\n      <span className={className}>{text}</span>\n      {!(refIsFinished.current && hideCursorOnFinish) && (\n        <span className={`typist-cursor ${`${cursorClassName} ${className}`}`} style={styledSpan}>\n          |\n        </span>\n      )}\n    </span>\n  );\n};\n\nexport default Typer;\n"],"names":["useState","useRef","useEffect","useCallback","useMemo","_jsxs","_jsx"],"mappings":"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"}